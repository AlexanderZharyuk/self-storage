# SELF STORAGE PROJECT

Телеграм-бот с арендой складского помещения.


## Навигация по проекту
* Папки

`documents/` - папка с файлами, которые отправляем пользователю, например пользовательское соглашение в пдф формате.

`json_files/` - папка с json-файлами, там хранится данные о складах, а также там будет формироваться БД.

* Файлы

`bot.py` - Главный исполняемый файл, через него происходит запуск бота, а также все обработчики бота хранятся в этом файле.

`config.ini` - Конфигурационный файл с вашими настройками.

`general_functions.py` - Файл с общими функциями для работы бота.

`messages.py` - Файл с сообщениями для пользователей.

`Procfile` - Файл для деплоя бота на хостинге.

`requirements.txt` - Файл с используемыми библиотеками проекта.

`validate_exceptions.py` - Файл с кастомными ошибками для валидации.

### Описание бота

У бота будет 3 главные ветки - регистрация, заказ и личный кабинет. В каждой из веток свой функционал:

1. Регистрация - Пользователь должен принять соглашение об обработке данных и далее заполнить обязательные данные - 
ФиО и номер телефона, после чего нажать на кнопку регистрации и если она прошла успешно - он записывается в БД.
2. Заказ - При нажатии на кнопку заказ выдается 5 складов с лимитами -> Пользователь выбрал склад -> 
Указывает объем заказа -> Нужно ли хранить специфические вещи -> Выдается список подходящих боксов ->
На какой срок хранение -> Пользователь выбирает бокс -> Уточняем информацию, если все верно -> Оплата
3. Личный кабинет - выдается список заказов и кнопка "Открыть бокс" -> при нажатии выкидывает QR-код для получения бокса

### Реализованные фичи проекта

- [x] База данных
- [x] Регистрация
- [x] Заказ
- [x] Личный кабинет
- [x] QR-коды заказов
- [x] Нахождение ближайшего склада к пользователю
- [x] Оплата заказа

Готовая версия бота, которую можно протестировать: [@BoxStorageBot](https://t.me/BoxStorageBot)

## Настройка проекта под себя
Вы можете использовать данного бота для своих нужд. Для этого ниже описаны
шаги по настройке бота:


#### 1. Установите необходимые библиотеки

Бот написан при помощи библиотеки [python-telegram-bot](https://pypi.org/project/python-telegram-bot/) v13.2. Для установки
всех необходимых библиотек напишите команду:
``` 
pip install -r requierements.txt
```

Ссылка на примеры с использованием библиотеки на [GitHub](https://github.com/python-telegram-bot/python-telegram-bot/tree/v13.x).

#### 2. Создайте `.env`-файл.
В данном файле будут храниться ваши секретные данные, заполните файл следующим образом:

```
TELEGRAM_TOKEN={TOKEN} | Токен вашего бота в ТГ
PAYMENT_TOKEN={PAYMENT_TOKEN} | Токен вашего эквайринга, его также можно получить в @BotFather во вкладе payments
```

#### 3. Настройте конфиг-файл.
В репозитории проекта есть файл `config.ini` - в нем хранятся ваши настройки проекта, а именно пути до файлов С БД и Пользовательским соглашением.
Сейчас конфиг файл заполнен, вы можете с ним ознакомиться и оставить его как есть или поменять по примеру, если вам это необходимо.

#### 4. Заполните информацию о ваших складах.
В файле `json_files/warehouses.json` находится информация по вашим складам, заполните ее по примеру уже существующего файла.
Пожалуйста, не меняйте структуру файла, в данный момент существующий файл является примером.

#### 5. Запустите вашего бота.
После того, как вы прошли все ваши шаги - запустите вашего бота командой:

```
python3 bot.py
```

## Авторы
* [Alexander Zharyuk](https://github.com/AlexanderZharyuk/)
* [Elena LeenyTheBear](https://github.com/leenythebear)
* [Kirill Rudenko](https://github.com/rudenko-ks)